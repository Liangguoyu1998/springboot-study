<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
    <meta charset="UTF-8">
    <title>index</title>
</head>
<body>
<div style="border: 1px solid lightgreen;height: 100px">
    <div>首页<div>
    <!-- 如果未登录 -->
    <div sec:authorize="!isAuthenticated()">
        <a th:href="@{/toLogin}">登录</a>
    </div>
    <!-- 如果登录了 -->
    <div sec:authorize="isAuthenticated()">
        用户名：<span sec:authentication="name"></span><br/>
        角色：<span sec:authentication="principal.getAuthorities()"></span><br/>
        <a th:href="@{/logout}">注销</a>
    </div>
</div>
<br/><br/>
<div style="border: 1px solid lightblue;height: 25px;text-align: center;vertical-align: center">
    Spring Security Stydy by 梁国宇
</div>
<br/><br/>
<div>
    <!-- 菜单根据用户的角色动态实现 -->
    <div sec:authorize="hasRole('vip1')" style="border: 1px solid lightcoral;height: 100px">
        level1<hr/>
        <a th:href="@{/level1/1}">level-1-1</a><br/>
        <a th:href="@{/level1/2}">level-1-2</a><br/>
        <a th:href="@{/level1/3}">level-1-3</a><br/>
    </div><br/>
    <div sec:authorize="hasRole('vip2')" style="border: 1px solid lightcoral;height: 100px">
        level2<hr/>
        <a th:href="@{/level2/1}">level-2-1</a><br/>
        <a th:href="@{/level2/2}">level-2-2</a><br/>
        <a th:href="@{/level2/3}">level-2-3</a><br/>
    </div><br/>
    <div sec:authorize="hasRole('vip3')" style="border: 1px solid lightcoral;height: 100px">
        level3<hr/>
        <a th:href="@{/level3/1}">level-3-1</a><br/>
        <a th:href="@{/level3/2}">level-3-2</a><br/>
        <a th:href="@{/level3/3}">level-3-3</a><br/>
    </div>
</div>
</body>
</html>